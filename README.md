# 행바타 - 나만의 행성이 만들기

# 기능목록

- [ ] 배경 선택시 배경이 바뀐다.
- 몸통 선택 페이지
- [ ] 몸통 선택 페이지를 화면에 보여준다.
- [ ] 몸통 선택시 알파 배경에 그림이 보여진다.
- [ ] 컬러 선택시 몸통 색이 채워진다.
- 다운로드 기능
- [ ] 다운로드 버튼 선택시 .svg/.png 형태로 파일이 다운로드 된다.

# 남은 기능 목록

- [ ] 탭바 구현 : 몸통, 표정, 소품, 특수효과, 배경 탭을 선택 시 AvataList들이 해당 탭에 맞게 갱신

  - [ ] 다른 탭을 넘어갔다가 돌아와도 이전 선택 상태가 유지되어야함

- [ ] AvataList 구현 :

  - [ ] 아바타리스트는 선택된 아이템을 선택된 표시를 해야함

- [ ] AvataItem 상세 구현 :

  - [ ] 몸통: 디폴트 상태가 fill: none, stroke: white
        -> 근데 canvas에 렌더링 될때는 검은색 선으로...ㅋㅋㅋㅋ
  - [ ] 표정 - [왼쪽눈, 오른쪽눈, 입] 의 원으로 구성되어있다 - 바디 인덱스 위로
  - [ ] 각 아이템을 클릭 시 캔버스에 가운데에 렌더링이 되고 드래그로 위치를 조절할 수 있다
        -> 마우스 포인터 클릭으로 위치 조정하기
  - [ ] 소품 - [노트북, 바벨, 커피, 요술봉] - 바디 인덱스 뒤로 넘기기

- 파일 다운로드 :

  - [ ] png 다운로드 기능
    - [ ] 몸통 색이 안칠해져있으면 투명, 칠해졌으면 그 색깔로...
    - [ ] 배경이 없으면 배경도 투명
    - [ ] +@ SVG 다운로드
    - [ ] +@ png 해상도 조절 (피그마 png export 처럼 배수 해상도로)

- 컬러픽 기능:
  - [ ] 팔레트 버튼 눌렀을 때 몸통 / 띠 색상 선택이 드롭다운 형식으로 나오기
  - [ ] 몸통 / 띠 드롭다운 각각 선택시 HTML type="color" 를 이용해 색상 선택 가능하도록

과제 그룹핑
A :
B :

## ✅ 기능 분담표

### 👩‍💻 1번 담당자 – UI / 상태 관리 : 카멜

#### 📌 담당 기능

- [ ] 탭바 구현
  - [ ] 탭 클릭 시 AvataList 갱신
  - [ ] 이전 선택 상태 기억 (상태 저장 필요)
- [ ] AvataList 구현
  - [ ] 리스트 렌더링 및 선택 표시
- [ ] 파일 다운로드
  - [ ] PNG 다운로드 (몸통 색 없으면 투명, 색 있으면 채색)
  - [ ] 배경 없으면 투명
  - [ ] SVG 다운로드
  - [ ] 해상도 배수 조절 (Figma처럼)

#### 💡 기술 키워드

- DOM 조작 (`addEventListener`, `createElement`, 등)
- 상태 저장 (`localStorage` 또는 전역 상태)
- `toDataURL()`, Blob, 파일 다운로드
- CSS 기반 드롭다운 UI

---

### 🎨 2번 담당자 – Canvas 렌더링 / 드래그 : 캉골

#### 📌 담당 기능

- [ ] AvataItem 상세 렌더링 - canvas.ts

  - [ ] 몸통: 기본 `fill: none`, `stroke: white` 처리
  - [ ] 표정: 왼쪽눈, 오른쪽눈, 입 → 드래그로 그리기
  - [ ] 소품: 노트북, 바벨, 커피, 요술봉 (바디 뒤에 그리기)
  - [ ] 아이템 클릭 시 캔버스 가운데 렌더링
  - [ ] 마우스로 드래그해서 위치 이동

- [ ] 컬러픽 기능
  - [ ] 팔레트 버튼 누르면 드롭다운
  - [ ] 드롭다운에서 색상 선택 (HTML `<input type="color">`)

#### 💡 기술 키워드

- Canvas API (`getContext("2d")`, `drawImage`, `fill`, `stroke`)
- 마우스 이벤트 (`mousedown`, `mousemove`, `mouseup`)
- 각 아이템의 위치 상태 추적
- `requestAnimationFrame`을 통한 재렌더링
- zIndex 개념 수동 처리 (그리기 순서 조절)

---

## 🤝 통합을 위한 공통 상태 구조 예시

```js
const avatarState = {
  currentTab: '몸통',
  selectedItems: {
    몸통: 'body1',
    표정: 'smile1',
    소품: 'coffee',
    특수효과: null,
    배경: null,
  },
  colors: {
    bodyFill: '#FFFFFF',
    stripe: '#000000',
  },
  positions: {
    몸통: { x: 100, y: 100 },
    소품: { x: 120, y: 100 },
    ...
  }
};
```
